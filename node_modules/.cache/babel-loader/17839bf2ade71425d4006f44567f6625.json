{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hai Hong\\\\Desktop\\\\EXAI\\\\EXAI\\\\src\\\\views\\\\apps\\\\todo\\\\TaskSidebar.js\",\n  _s = $RefreshSig$();\n// ** React Imports\nimport { useState, Fragment } from 'react';\n\n// ** Third Party Components\nimport classnames from 'classnames';\nimport Flatpickr from 'react-flatpickr';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { X, Star, Trash } from 'react-feather';\nimport Select, { components } from 'react-select'; //eslint-disable-line\nimport { useForm, Controller } from 'react-hook-form';\nimport { EditorState, ContentState } from 'draft-js';\n\n// ** Reactstrap Imports\nimport { Modal, ModalBody, Button, Form, Input, Label, FormFeedback } from 'reactstrap';\n\n// ** Utils\nimport { isObjEmpty, selectThemeColors } from '@utils';\n\n// ** Assignee Avatars\nimport img1 from '@src/assets/images/portrait/small/avatar-s-3.jpg';\nimport img2 from '@src/assets/images/portrait/small/avatar-s-1.jpg';\nimport img3 from '@src/assets/images/portrait/small/avatar-s-4.jpg';\nimport img4 from '@src/assets/images/portrait/small/avatar-s-6.jpg';\nimport img5 from '@src/assets/images/portrait/small/avatar-s-2.jpg';\nimport img6 from '@src/assets/images/portrait/small/avatar-s-11.jpg';\n\n// ** Styles Imports\nimport '@styles/react/libs/editor/editor.scss';\nimport '@styles/react/libs/flatpickr/flatpickr.scss';\nimport '@styles/react/libs/react-select/_react-select.scss';\n\n// ** Function to capitalize the first letter of string\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\n\n// ** Modal Header\nconst ModalHeader = props => {\n  // ** Props\n  const {\n    children,\n    store,\n    handleTaskSidebar,\n    setDeleted,\n    deleted,\n    important,\n    setImportant,\n    deleteTask,\n    dispatch\n  } = props;\n\n  // ** Function to delete task\n  const handleDeleteTask = () => {\n    setDeleted(!deleted);\n    dispatch(deleteTask(store.selectedTask.id));\n    handleTaskSidebar();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-header d-flex align-items-center justify-content-between mb-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"modal-title\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo-item-action d-flex align-items-center\",\n      children: [store && !isObjEmpty(store.selectedTask) ? /*#__PURE__*/_jsxDEV(Trash, {\n        className: \"cursor-pointer mt-25\",\n        size: 16,\n        onClick: () => handleDeleteTask()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"todo-item-favorite cursor-pointer mx-75\",\n        children: /*#__PURE__*/_jsxDEV(Star, {\n          size: 16,\n          onClick: () => setImportant(!important),\n          className: classnames({\n            'text-warning': important === true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(X, {\n        className: \"fw-normal mt-25\",\n        size: 16,\n        onClick: handleTaskSidebar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_c = ModalHeader;\nconst TaskSidebar = props => {\n  _s();\n  // ** Props\n  const {\n    open,\n    handleTaskSidebar,\n    store,\n    dispatch,\n    updateTask,\n    selectTask,\n    addTask,\n    deleteTask\n  } = props;\n\n  // ** States\n  const [assignee, setAssignee] = useState({\n    value: 'pheobe',\n    label: 'Pheobe Buffay',\n    img: img1\n  });\n  const [tags, setTags] = useState([]);\n  const [desc, setDesc] = useState(EditorState.createEmpty());\n  const [completed, setCompleted] = useState(false);\n  const [important, setImportant] = useState(false);\n  const [deleted, setDeleted] = useState(false);\n  const [dueDate, setDueDate] = useState(new Date());\n  const {\n    control,\n    setError,\n    setValue,\n    clearErrors,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      title: ''\n    }\n  });\n\n  // ** Assignee Select Options\n  const assigneeOptions = [{\n    value: 'pheobe',\n    label: 'Pheobe Buffay',\n    img: img1\n  }, {\n    value: 'chandler',\n    label: 'Chandler Bing',\n    img: img2\n  }, {\n    value: 'ross',\n    label: 'Ross Geller',\n    img: img3\n  }, {\n    value: 'monica',\n    label: 'Monica Geller',\n    img: img4\n  }, {\n    value: 'joey',\n    label: 'Joey Tribbiani',\n    img: img5\n  }, {\n    value: 'Rachel',\n    label: 'Rachel Green',\n    img: img6\n  }];\n\n  // ** Tag Select Options\n  const tagOptions = [{\n    value: 'team',\n    label: 'Team'\n  }, {\n    value: 'low',\n    label: 'Low'\n  }, {\n    value: 'medium',\n    label: 'Medium'\n  }, {\n    value: 'high',\n    label: 'High'\n  }, {\n    value: 'update',\n    label: 'Update'\n  }];\n\n  // ** Custom Assignee Component\n  const AssigneeComponent = _ref => {\n    let {\n      data,\n      ...props\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(components.Option, {\n      ...props,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"d-block rounded-circle me-50\",\n          src: data.img,\n          height: \"26\",\n          width: \"26\",\n          alt: data.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: data.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ** Returns sidebar title\n  const handleSidebarTitle = () => {\n    if (store && !isObjEmpty(store.selectedTask)) {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        outline: true,\n        size: \"sm\",\n        onClick: () => setCompleted(!completed),\n        color: completed === true ? 'success' : 'secondary',\n        children: completed === true ? 'Completed' : 'Mark Complete'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this);\n    } else {\n      return 'Add Task';\n    }\n  };\n\n  // ** Function to run when sidebar opens\n  const handleSidebarOpened = () => {\n    const {\n      selectedTask\n    } = store;\n    if (!isObjEmpty(selectedTask)) {\n      setValue('title', selectedTask.title);\n      setCompleted(selectedTask.isCompleted);\n      setImportant(selectedTask.isImportant);\n      setAssignee([{\n        value: selectedTask.assignee.fullName,\n        label: selectedTask.assignee.fullName,\n        img: selectedTask.assignee.avatar\n      }]);\n      setDueDate(selectedTask.dueDate);\n      if (typeof selectedTask.description === 'string') {\n        setDesc(EditorState.createWithContent(ContentState.createFromText(selectedTask.description)));\n      } else {\n        const obj = selectedTask.description._immutable.currentContent.blockMap;\n        const property = Object.keys(obj).map(val => val);\n        setDesc(EditorState.createWithContent(ContentState.createFromText(obj[property].text)));\n      }\n      if (selectedTask.tags.length) {\n        const tags = [];\n        selectedTask.tags.map(tag => {\n          tags.push({\n            value: tag,\n            label: capitalize(tag)\n          });\n        });\n        setTags(tags);\n      }\n    }\n  };\n\n  // ** Function to run when sidebar closes\n  const handleSidebarClosed = () => {\n    setTags([]);\n    setDesc('');\n    setValue('title', '');\n    setAssignee({\n      value: 'pheobe',\n      label: 'Pheobe Buffay',\n      img: img1\n    });\n    setCompleted(false);\n    setImportant(false);\n    setDueDate(new Date());\n    dispatch(selectTask({}));\n    clearErrors();\n  };\n\n  // ** Function to reset fields\n  const handleResetFields = () => {\n    const descValue = EditorState.createWithContent(ContentState.createFromText(store.selectedTask.description));\n    setValue('title', store.selectedTask.title);\n    setDesc(descValue);\n    setCompleted(store.selectedTask.isCompleted);\n    setImportant(store.selectedTask.isImportant);\n    setDeleted(store.selectedTask.isDeleted);\n    setDueDate(store.selectedTask.dueDate);\n    if (store.selectedTask.assignee.fullName !== assignee.label) {\n      setAssignee({\n        value: store.selectedTask.assignee.fullName,\n        label: store.selectedTask.assignee.fullName,\n        img: store.selectedTask.assignee.avatar\n      });\n    }\n    if (store.selectedTask.tags.length) {\n      const tags = [];\n      store.selectedTask.tags.map(tag => {\n        tags.push({\n          value: tag,\n          label: capitalize(tag)\n        });\n      });\n      setTags(tags);\n    }\n  };\n\n  // ** Renders Footer Buttons\n  const renderFooterButtons = () => {\n    if (store && !isObjEmpty(store.selectedTask)) {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"update-btn update-todo-item me-1\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: handleResetFields,\n          outline: true,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"add-todo-item me-1\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: handleTaskSidebar,\n          outline: true,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const onSubmit = data => {\n    const newTaskTag = [];\n    const doesInclude = !isObjEmpty(store.selectedTask) && assignee.label === store.selectedTask.assignee.fullName;\n    if (tags.length) {\n      tags.map(tag => newTaskTag.push(tag.value));\n    }\n    const newAssignee = {\n      fullName: assignee.label,\n      avatar: assignee.img\n    };\n    const state = {\n      dueDate,\n      title: data.title,\n      tags: newTaskTag,\n      description: desc,\n      isCompleted: completed,\n      isDeleted: deleted,\n      isImportant: important,\n      assignee: doesInclude || assignee.label === undefined ? store.selectedTask.assignee : newAssignee\n    };\n    if (data.title.length) {\n      if (isObjEmpty(errors)) {\n        if (isObjEmpty(store.selectedTask) || !isObjEmpty(store.selectedTask) && !store.selectedTask.title.length) {\n          dispatch(addTask(state));\n        } else {\n          dispatch(updateTask({\n            ...state,\n            id: store.selectedTask.id\n          }));\n        }\n        handleTaskSidebar();\n      }\n    } else {\n      setError('title', {\n        type: 'manual'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: open,\n    toggle: handleTaskSidebar,\n    className: \"sidebar-lg\",\n    contentClassName: \"p-0\",\n    onOpened: handleSidebarOpened,\n    onClosed: handleSidebarClosed,\n    modalClassName: \"modal-slide-in sidebar-todo-modal\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      id: \"form-modal-todo\",\n      className: \"todo-modal\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        store: store,\n        deleted: deleted,\n        dispatch: dispatch,\n        important: important,\n        deleteTask: deleteTask,\n        setDeleted: setDeleted,\n        setImportant: setImportant,\n        handleTaskSidebar: handleTaskSidebar,\n        children: handleSidebarTitle()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        className: \"flex-grow-1 pb-sm-0 pb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            className: \"form-label\",\n            for: \"task-title\",\n            children: [\"Title \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-danger\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controller, {\n            name: \"title\",\n            control: control,\n            render: _ref2 => {\n              let {\n                field\n              } = _ref2;\n              return /*#__PURE__*/_jsxDEV(Input, {\n                id: \"task-title\",\n                placeholder: \"Title\",\n                className: \"new-todo-item-title\",\n                invalid: errors.title && true,\n                ...field\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), errors.title && /*#__PURE__*/_jsxDEV(FormFeedback, {\n            children: \"Please enter a valid task title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            className: \"form-label\",\n            for: \"task-assignee\",\n            children: \"Assignee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"task-assignee\",\n            className: \"react-select\",\n            classNamePrefix: \"select\",\n            isClearable: false,\n            options: assigneeOptions,\n            theme: selectThemeColors,\n            value: assignee,\n            onChange: data => setAssignee(data),\n            components: {\n              Option: AssigneeComponent\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            className: \"form-label\",\n            for: \"due-date\",\n            children: \"Due Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Flatpickr, {\n            id: \"due-date\",\n            name: \"due-date\",\n            className: \"form-control\",\n            onChange: date => setDueDate(date[0]),\n            value: dueDate,\n            options: {\n              dateFormat: 'Y-m-d'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            className: \"form-label\",\n            for: \"task-tags\",\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            isMulti: true,\n            id: \"task-tags\",\n            className: \"react-select\",\n            classNamePrefix: \"select\",\n            isClearable: false,\n            options: tagOptions,\n            theme: selectThemeColors,\n            value: tags,\n            onChange: data => {\n              setTags(data !== null ? [...data] : []);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"task-desc\",\n            className: \"form-label\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Editor, {\n            editorState: desc,\n            wrapperClassName: \"toolbar-bottom\",\n            toolbar: {\n              options: ['inline', 'textAlign'],\n              inline: {\n                inDropdown: false,\n                options: ['bold', 'italic', 'underline']\n              }\n            },\n            onEditorStateChange: data => setDesc(data)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: renderFooterButtons()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskSidebar, \"vml8TYRjcU/6Q6rFKvdfmpNCTYU=\", false, function () {\n  return [useForm];\n});\n_c2 = TaskSidebar;\nexport default TaskSidebar;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModalHeader\");\n$RefreshReg$(_c2, \"TaskSidebar\");","map":{"version":3,"names":["useState","Fragment","classnames","Flatpickr","Editor","X","Star","Trash","Select","components","useForm","Controller","EditorState","ContentState","Modal","ModalBody","Button","Form","Input","Label","FormFeedback","isObjEmpty","selectThemeColors","img1","img2","img3","img4","img5","img6","jsxDEV","_jsxDEV","capitalize","string","charAt","toUpperCase","slice","ModalHeader","props","children","store","handleTaskSidebar","setDeleted","deleted","important","setImportant","deleteTask","dispatch","handleDeleteTask","selectedTask","id","className","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","_c","TaskSidebar","_s","open","updateTask","selectTask","addTask","assignee","setAssignee","value","label","img","tags","setTags","desc","setDesc","createEmpty","completed","setCompleted","dueDate","setDueDate","Date","control","setError","setValue","clearErrors","handleSubmit","formState","errors","defaultValues","title","assigneeOptions","tagOptions","AssigneeComponent","_ref","data","Option","src","height","width","alt","handleSidebarTitle","outline","color","handleSidebarOpened","isCompleted","isImportant","fullName","avatar","description","createWithContent","createFromText","obj","_immutable","currentContent","blockMap","property","Object","keys","map","val","text","length","tag","push","handleSidebarClosed","handleResetFields","descValue","isDeleted","renderFooterButtons","onSubmit","newTaskTag","doesInclude","newAssignee","state","undefined","type","isOpen","toggle","contentClassName","onOpened","onClosed","modalClassName","for","name","render","_ref2","field","placeholder","invalid","classNamePrefix","isClearable","options","theme","onChange","date","dateFormat","isMulti","editorState","wrapperClassName","toolbar","inline","inDropdown","onEditorStateChange","_c2","$RefreshReg$"],"sources":["C:/Users/Hai Hong/Desktop/EXAI/EXAI/src/views/apps/todo/TaskSidebar.js"],"sourcesContent":["// ** React Imports\r\nimport { useState, Fragment } from 'react'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport Flatpickr from 'react-flatpickr'\r\nimport { Editor } from 'react-draft-wysiwyg'\r\nimport { X, Star, Trash } from 'react-feather'\r\nimport Select, { components } from 'react-select' //eslint-disable-line\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { EditorState, ContentState } from 'draft-js'\r\n\r\n// ** Reactstrap Imports\r\nimport { Modal, ModalBody, Button, Form, Input, Label, FormFeedback } from 'reactstrap'\r\n\r\n// ** Utils\r\nimport { isObjEmpty, selectThemeColors } from '@utils'\r\n\r\n// ** Assignee Avatars\r\nimport img1 from '@src/assets/images/portrait/small/avatar-s-3.jpg'\r\nimport img2 from '@src/assets/images/portrait/small/avatar-s-1.jpg'\r\nimport img3 from '@src/assets/images/portrait/small/avatar-s-4.jpg'\r\nimport img4 from '@src/assets/images/portrait/small/avatar-s-6.jpg'\r\nimport img5 from '@src/assets/images/portrait/small/avatar-s-2.jpg'\r\nimport img6 from '@src/assets/images/portrait/small/avatar-s-11.jpg'\r\n\r\n// ** Styles Imports\r\nimport '@styles/react/libs/editor/editor.scss'\r\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\r\nimport '@styles/react/libs/react-select/_react-select.scss'\r\n\r\n// ** Function to capitalize the first letter of string\r\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1)\r\n\r\n// ** Modal Header\r\nconst ModalHeader = props => {\r\n  // ** Props\r\n  const { children, store, handleTaskSidebar, setDeleted, deleted, important, setImportant, deleteTask, dispatch } =\r\n    props\r\n\r\n  // ** Function to delete task\r\n  const handleDeleteTask = () => {\r\n    setDeleted(!deleted)\r\n    dispatch(deleteTask(store.selectedTask.id))\r\n    handleTaskSidebar()\r\n  }\r\n\r\n  return (\r\n    <div className='modal-header d-flex align-items-center justify-content-between mb-1'>\r\n      <h5 className='modal-title'>{children}</h5>\r\n      <div className='todo-item-action d-flex align-items-center'>\r\n        {store && !isObjEmpty(store.selectedTask) ? (\r\n          <Trash className='cursor-pointer mt-25' size={16} onClick={() => handleDeleteTask()} />\r\n        ) : null}\r\n        <span className='todo-item-favorite cursor-pointer mx-75'>\r\n          <Star\r\n            size={16}\r\n            onClick={() => setImportant(!important)}\r\n            className={classnames({\r\n              'text-warning': important === true\r\n            })}\r\n          />\r\n        </span>\r\n        <X className='fw-normal mt-25' size={16} onClick={handleTaskSidebar} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TaskSidebar = props => {\r\n  // ** Props\r\n  const { open, handleTaskSidebar, store, dispatch, updateTask, selectTask, addTask, deleteTask } = props\r\n\r\n  // ** States\r\n  const [assignee, setAssignee] = useState({ value: 'pheobe', label: 'Pheobe Buffay', img: img1 })\r\n  const [tags, setTags] = useState([])\r\n  const [desc, setDesc] = useState(EditorState.createEmpty())\r\n  const [completed, setCompleted] = useState(false)\r\n  const [important, setImportant] = useState(false)\r\n  const [deleted, setDeleted] = useState(false)\r\n  const [dueDate, setDueDate] = useState(new Date())\r\n\r\n  const {\r\n    control,\r\n    setError,\r\n    setValue,\r\n    clearErrors,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({\r\n    defaultValues: { title: '' }\r\n  })\r\n\r\n  // ** Assignee Select Options\r\n  const assigneeOptions = [\r\n    { value: 'pheobe', label: 'Pheobe Buffay', img: img1 },\r\n    { value: 'chandler', label: 'Chandler Bing', img: img2 },\r\n    { value: 'ross', label: 'Ross Geller', img: img3 },\r\n    { value: 'monica', label: 'Monica Geller', img: img4 },\r\n    { value: 'joey', label: 'Joey Tribbiani', img: img5 },\r\n    { value: 'Rachel', label: 'Rachel Green', img: img6 }\r\n  ]\r\n\r\n  // ** Tag Select Options\r\n  const tagOptions = [\r\n    { value: 'team', label: 'Team' },\r\n    { value: 'low', label: 'Low' },\r\n    { value: 'medium', label: 'Medium' },\r\n    { value: 'high', label: 'High' },\r\n    { value: 'update', label: 'Update' }\r\n  ]\r\n\r\n  // ** Custom Assignee Component\r\n  const AssigneeComponent = ({ data, ...props }) => {\r\n    return (\r\n      <components.Option {...props}>\r\n        <div className='d-flex align-items-center'>\r\n          <img className='d-block rounded-circle me-50' src={data.img} height='26' width='26' alt={data.label} />\r\n          <p className='mb-0'>{data.label}</p>\r\n        </div>\r\n      </components.Option>\r\n    )\r\n  }\r\n\r\n  // ** Returns sidebar title\r\n  const handleSidebarTitle = () => {\r\n    if (store && !isObjEmpty(store.selectedTask)) {\r\n      return (\r\n        <Button\r\n          outline\r\n          size='sm'\r\n          onClick={() => setCompleted(!completed)}\r\n          color={completed === true ? 'success' : 'secondary'}\r\n        >\r\n          {completed === true ? 'Completed' : 'Mark Complete'}\r\n        </Button>\r\n      )\r\n    } else {\r\n      return 'Add Task'\r\n    }\r\n  }\r\n\r\n  // ** Function to run when sidebar opens\r\n  const handleSidebarOpened = () => {\r\n    const { selectedTask } = store\r\n    if (!isObjEmpty(selectedTask)) {\r\n      setValue('title', selectedTask.title)\r\n      setCompleted(selectedTask.isCompleted)\r\n      setImportant(selectedTask.isImportant)\r\n      setAssignee([\r\n        {\r\n          value: selectedTask.assignee.fullName,\r\n          label: selectedTask.assignee.fullName,\r\n          img: selectedTask.assignee.avatar\r\n        }\r\n      ])\r\n      setDueDate(selectedTask.dueDate)\r\n      if (typeof selectedTask.description === 'string') {\r\n        setDesc(EditorState.createWithContent(ContentState.createFromText(selectedTask.description)))\r\n      } else {\r\n        const obj = selectedTask.description._immutable.currentContent.blockMap\r\n        const property = Object.keys(obj).map(val => val)\r\n\r\n        setDesc(EditorState.createWithContent(ContentState.createFromText(obj[property].text)))\r\n      }\r\n\r\n      if (selectedTask.tags.length) {\r\n        const tags = []\r\n        selectedTask.tags.map(tag => {\r\n          tags.push({ value: tag, label: capitalize(tag) })\r\n        })\r\n        setTags(tags)\r\n      }\r\n    }\r\n  }\r\n\r\n  // ** Function to run when sidebar closes\r\n  const handleSidebarClosed = () => {\r\n    setTags([])\r\n    setDesc('')\r\n    setValue('title', '')\r\n    setAssignee({ value: 'pheobe', label: 'Pheobe Buffay', img: img1 })\r\n    setCompleted(false)\r\n    setImportant(false)\r\n    setDueDate(new Date())\r\n    dispatch(selectTask({}))\r\n    clearErrors()\r\n  }\r\n\r\n  // ** Function to reset fields\r\n  const handleResetFields = () => {\r\n    const descValue = EditorState.createWithContent(ContentState.createFromText(store.selectedTask.description))\r\n\r\n    setValue('title', store.selectedTask.title)\r\n    setDesc(descValue)\r\n    setCompleted(store.selectedTask.isCompleted)\r\n    setImportant(store.selectedTask.isImportant)\r\n    setDeleted(store.selectedTask.isDeleted)\r\n    setDueDate(store.selectedTask.dueDate)\r\n    if (store.selectedTask.assignee.fullName !== assignee.label) {\r\n      setAssignee({\r\n        value: store.selectedTask.assignee.fullName,\r\n        label: store.selectedTask.assignee.fullName,\r\n        img: store.selectedTask.assignee.avatar\r\n      })\r\n    }\r\n    if (store.selectedTask.tags.length) {\r\n      const tags = []\r\n      store.selectedTask.tags.map(tag => {\r\n        tags.push({ value: tag, label: capitalize(tag) })\r\n      })\r\n      setTags(tags)\r\n    }\r\n  }\r\n\r\n  // ** Renders Footer Buttons\r\n  const renderFooterButtons = () => {\r\n    if (store && !isObjEmpty(store.selectedTask)) {\r\n      return (\r\n        <Fragment>\r\n          <Button color='primary' className='update-btn update-todo-item me-1'>\r\n            Update\r\n          </Button>\r\n          <Button color='secondary' onClick={handleResetFields} outline>\r\n            Reset\r\n          </Button>\r\n        </Fragment>\r\n      )\r\n    } else {\r\n      return (\r\n        <Fragment>\r\n          <Button color='primary' className='add-todo-item me-1'>\r\n            Add\r\n          </Button>\r\n          <Button color='secondary' onClick={handleTaskSidebar} outline>\r\n            Cancel\r\n          </Button>\r\n        </Fragment>\r\n      )\r\n    }\r\n  }\r\n\r\n  const onSubmit = data => {\r\n    const newTaskTag = []\r\n\r\n    const doesInclude = !isObjEmpty(store.selectedTask) && assignee.label === store.selectedTask.assignee.fullName\r\n\r\n    if (tags.length) {\r\n      tags.map(tag => newTaskTag.push(tag.value))\r\n    }\r\n\r\n    const newAssignee = {\r\n      fullName: assignee.label,\r\n      avatar: assignee.img\r\n    }\r\n    const state = {\r\n      dueDate,\r\n      title: data.title,\r\n      tags: newTaskTag,\r\n      description: desc,\r\n      isCompleted: completed,\r\n      isDeleted: deleted,\r\n      isImportant: important,\r\n      assignee: doesInclude || assignee.label === undefined ? store.selectedTask.assignee : newAssignee\r\n    }\r\n\r\n    if (data.title.length) {\r\n      if (isObjEmpty(errors)) {\r\n        if (isObjEmpty(store.selectedTask) || (!isObjEmpty(store.selectedTask) && !store.selectedTask.title.length)) {\r\n          dispatch(addTask(state))\r\n        } else {\r\n          dispatch(updateTask({ ...state, id: store.selectedTask.id }))\r\n        }\r\n        handleTaskSidebar()\r\n      }\r\n    } else {\r\n      setError('title', {\r\n        type: 'manual'\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <Modal\r\n      isOpen={open}\r\n      toggle={handleTaskSidebar}\r\n      className='sidebar-lg'\r\n      contentClassName='p-0'\r\n      onOpened={handleSidebarOpened}\r\n      onClosed={handleSidebarClosed}\r\n      modalClassName='modal-slide-in sidebar-todo-modal'\r\n    >\r\n      <Form id='form-modal-todo' className='todo-modal' onSubmit={handleSubmit(onSubmit)}>\r\n        <ModalHeader\r\n          store={store}\r\n          deleted={deleted}\r\n          dispatch={dispatch}\r\n          important={important}\r\n          deleteTask={deleteTask}\r\n          setDeleted={setDeleted}\r\n          setImportant={setImportant}\r\n          handleTaskSidebar={handleTaskSidebar}\r\n        >\r\n          {handleSidebarTitle()}\r\n        </ModalHeader>\r\n        <ModalBody className='flex-grow-1 pb-sm-0 pb-3'>\r\n          <div className='mb-1'>\r\n            <Label className='form-label' for='task-title'>\r\n              Title <span className='text-danger'>*</span>\r\n            </Label>\r\n            <Controller\r\n              name='title'\r\n              control={control}\r\n              render={({ field }) => (\r\n                <Input\r\n                  id='task-title'\r\n                  placeholder='Title'\r\n                  className='new-todo-item-title'\r\n                  invalid={errors.title && true}\r\n                  {...field}\r\n                />\r\n              )}\r\n            />\r\n            {errors.title && <FormFeedback>Please enter a valid task title</FormFeedback>}\r\n          </div>\r\n          <div className='mb-1'>\r\n            <Label className='form-label' for='task-assignee'>\r\n              Assignee\r\n            </Label>\r\n            <Select\r\n              id='task-assignee'\r\n              className='react-select'\r\n              classNamePrefix='select'\r\n              isClearable={false}\r\n              options={assigneeOptions}\r\n              theme={selectThemeColors}\r\n              value={assignee}\r\n              onChange={data => setAssignee(data)}\r\n              components={{ Option: AssigneeComponent }}\r\n            />\r\n          </div>\r\n          <div className='mb-1'>\r\n            <Label className='form-label' for='due-date'>\r\n              Due Date\r\n            </Label>\r\n            <Flatpickr\r\n              id='due-date'\r\n              name='due-date'\r\n              className='form-control'\r\n              onChange={date => setDueDate(date[0])}\r\n              value={dueDate}\r\n              options={{ dateFormat: 'Y-m-d' }}\r\n            />\r\n          </div>\r\n          <div className='mb-1'>\r\n            <Label className='form-label' for='task-tags'>\r\n              Tags\r\n            </Label>\r\n            <Select\r\n              isMulti\r\n              id='task-tags'\r\n              className='react-select'\r\n              classNamePrefix='select'\r\n              isClearable={false}\r\n              options={tagOptions}\r\n              theme={selectThemeColors}\r\n              value={tags}\r\n              onChange={data => {\r\n                setTags(data !== null ? [...data] : [])\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='mb-1'>\r\n            <Label for='task-desc' className='form-label'>\r\n              Description\r\n            </Label>\r\n            <Editor\r\n              editorState={desc}\r\n              wrapperClassName='toolbar-bottom'\r\n              toolbar={{\r\n                options: ['inline', 'textAlign'],\r\n                inline: {\r\n                  inDropdown: false,\r\n                  options: ['bold', 'italic', 'underline']\r\n                }\r\n              }}\r\n              onEditorStateChange={data => setDesc(data)}\r\n            />\r\n          </div>\r\n          <div>{renderFooterButtons()}</div>\r\n        </ModalBody>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default TaskSidebar\r\n"],"mappings":";;AAAA;AACA,SAASA,QAAQ,EAAEC,QAAQ,QAAQ,OAAO;;AAE1C;AACA,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,SAAS,MAAM,iBAAiB;AACvC,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,CAAC,EAAEC,IAAI,EAAEC,KAAK,QAAQ,eAAe;AAC9C,OAAOC,MAAM,IAAIC,UAAU,QAAQ,cAAc,EAAC;AAClD,SAASC,OAAO,EAAEC,UAAU,QAAQ,iBAAiB;AACrD,SAASC,WAAW,EAAEC,YAAY,QAAQ,UAAU;;AAEpD;AACA,SAASC,KAAK,EAAEC,SAAS,EAAEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAEC,YAAY,QAAQ,YAAY;;AAEvF;AACA,SAASC,UAAU,EAAEC,iBAAiB,QAAQ,QAAQ;;AAEtD;AACA,OAAOC,IAAI,MAAM,kDAAkD;AACnE,OAAOC,IAAI,MAAM,kDAAkD;AACnE,OAAOC,IAAI,MAAM,kDAAkD;AACnE,OAAOC,IAAI,MAAM,kDAAkD;AACnE,OAAOC,IAAI,MAAM,kDAAkD;AACnE,OAAOC,IAAI,MAAM,mDAAmD;;AAEpE;AACA,OAAO,uCAAuC;AAC9C,OAAO,6CAA6C;AACpD,OAAO,oDAAoD;;AAE3D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,UAAU,GAAGC,MAAM,IAAIA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;;AAE7E;AACA,MAAMC,WAAW,GAAGC,KAAK,IAAI;EAC3B;EACA,MAAM;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,iBAAiB;IAAEC,UAAU;IAAEC,OAAO;IAAEC,SAAS;IAAEC,YAAY;IAAEC,UAAU;IAAEC;EAAS,CAAC,GAC9GT,KAAK;;EAEP;EACA,MAAMU,gBAAgB,GAAGA,CAAA,KAAM;IAC7BN,UAAU,CAAC,CAACC,OAAO,CAAC;IACpBI,QAAQ,CAACD,UAAU,CAACN,KAAK,CAACS,YAAY,CAACC,EAAE,CAAC,CAAC;IAC3CT,iBAAiB,CAAC,CAAC;EACrB,CAAC;EAED,oBACEV,OAAA;IAAKoB,SAAS,EAAC,qEAAqE;IAAAZ,QAAA,gBAClFR,OAAA;MAAIoB,SAAS,EAAC,aAAa;MAAAZ,QAAA,EAAEA;IAAQ;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC3CxB,OAAA;MAAKoB,SAAS,EAAC,4CAA4C;MAAAZ,QAAA,GACxDC,KAAK,IAAI,CAAClB,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,gBACvClB,OAAA,CAACvB,KAAK;QAAC2C,SAAS,EAAC,sBAAsB;QAACK,IAAI,EAAE,EAAG;QAACC,OAAO,EAAEA,CAAA,KAAMT,gBAAgB,CAAC;MAAE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GACrF,IAAI,eACRxB,OAAA;QAAMoB,SAAS,EAAC,yCAAyC;QAAAZ,QAAA,eACvDR,OAAA,CAACxB,IAAI;UACHiD,IAAI,EAAE,EAAG;UACTC,OAAO,EAAEA,CAAA,KAAMZ,YAAY,CAAC,CAACD,SAAS,CAAE;UACxCO,SAAS,EAAEhD,UAAU,CAAC;YACpB,cAAc,EAAEyC,SAAS,KAAK;UAChC,CAAC;QAAE;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPxB,OAAA,CAACzB,CAAC;QAAC6C,SAAS,EAAC,iBAAiB;QAACK,IAAI,EAAE,EAAG;QAACC,OAAO,EAAEhB;MAAkB;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAAG,EAAA,GAhCKrB,WAAW;AAkCjB,MAAMsB,WAAW,GAAGrB,KAAK,IAAI;EAAAsB,EAAA;EAC3B;EACA,MAAM;IAAEC,IAAI;IAAEpB,iBAAiB;IAAED,KAAK;IAAEO,QAAQ;IAAEe,UAAU;IAAEC,UAAU;IAAEC,OAAO;IAAElB;EAAW,CAAC,GAAGR,KAAK;;EAEvG;EACA,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAGjE,QAAQ,CAAC;IAAEkE,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE,eAAe;IAAEC,GAAG,EAAE7C;EAAK,CAAC,CAAC;EAChG,MAAM,CAAC8C,IAAI,EAAEC,OAAO,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACuE,IAAI,EAAEC,OAAO,CAAC,GAAGxE,QAAQ,CAACY,WAAW,CAAC6D,WAAW,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG3E,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC2C,SAAS,EAAEC,YAAY,CAAC,GAAG5C,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0C,OAAO,EAAED,UAAU,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4E,OAAO,EAAEC,UAAU,CAAC,GAAG7E,QAAQ,CAAC,IAAI8E,IAAI,CAAC,CAAC,CAAC;EAElD,MAAM;IACJC,OAAO;IACPC,QAAQ;IACRC,QAAQ;IACRC,WAAW;IACXC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO;EACtB,CAAC,GAAG3E,OAAO,CAAC;IACV4E,aAAa,EAAE;MAAEC,KAAK,EAAE;IAAG;EAC7B,CAAC,CAAC;;EAEF;EACA,MAAMC,eAAe,GAAG,CACtB;IAAEtB,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE,eAAe;IAAEC,GAAG,EAAE7C;EAAK,CAAC,EACtD;IAAE2C,KAAK,EAAE,UAAU;IAAEC,KAAK,EAAE,eAAe;IAAEC,GAAG,EAAE5C;EAAK,CAAC,EACxD;IAAE0C,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE,aAAa;IAAEC,GAAG,EAAE3C;EAAK,CAAC,EAClD;IAAEyC,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE,eAAe;IAAEC,GAAG,EAAE1C;EAAK,CAAC,EACtD;IAAEwC,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE,gBAAgB;IAAEC,GAAG,EAAEzC;EAAK,CAAC,EACrD;IAAEuC,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE,cAAc;IAAEC,GAAG,EAAExC;EAAK,CAAC,CACtD;;EAED;EACA,MAAM6D,UAAU,GAAG,CACjB;IAAEvB,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAM,CAAC,EAC9B;IAAED,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,EACpC;IAAED,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,CACrC;;EAED;EACA,MAAMuB,iBAAiB,GAAGC,IAAA,IAAwB;IAAA,IAAvB;MAAEC,IAAI;MAAE,GAAGvD;IAAM,CAAC,GAAAsD,IAAA;IAC3C,oBACE7D,OAAA,CAACrB,UAAU,CAACoF,MAAM;MAAA,GAAKxD,KAAK;MAAAC,QAAA,eAC1BR,OAAA;QAAKoB,SAAS,EAAC,2BAA2B;QAAAZ,QAAA,gBACxCR,OAAA;UAAKoB,SAAS,EAAC,8BAA8B;UAAC4C,GAAG,EAAEF,IAAI,CAACxB,GAAI;UAAC2B,MAAM,EAAC,IAAI;UAACC,KAAK,EAAC,IAAI;UAACC,GAAG,EAAEL,IAAI,CAACzB;QAAM;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvGxB,OAAA;UAAGoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,EAAEsD,IAAI,CAACzB;QAAK;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACW,CAAC;EAExB,CAAC;;EAED;EACA,MAAM4C,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI3D,KAAK,IAAI,CAAClB,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,EAAE;MAC5C,oBACElB,OAAA,CAACd,MAAM;QACLmF,OAAO;QACP5C,IAAI,EAAC,IAAI;QACTC,OAAO,EAAEA,CAAA,KAAMmB,YAAY,CAAC,CAACD,SAAS,CAAE;QACxC0B,KAAK,EAAE1B,SAAS,KAAK,IAAI,GAAG,SAAS,GAAG,WAAY;QAAApC,QAAA,EAEnDoC,SAAS,KAAK,IAAI,GAAG,WAAW,GAAG;MAAe;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC;IAEb,CAAC,MAAM;MACL,OAAO,UAAU;IACnB;EACF,CAAC;;EAED;EACA,MAAM+C,mBAAmB,GAAGA,CAAA,KAAM;IAChC,MAAM;MAAErD;IAAa,CAAC,GAAGT,KAAK;IAC9B,IAAI,CAAClB,UAAU,CAAC2B,YAAY,CAAC,EAAE;MAC7BiC,QAAQ,CAAC,OAAO,EAAEjC,YAAY,CAACuC,KAAK,CAAC;MACrCZ,YAAY,CAAC3B,YAAY,CAACsD,WAAW,CAAC;MACtC1D,YAAY,CAACI,YAAY,CAACuD,WAAW,CAAC;MACtCtC,WAAW,CAAC,CACV;QACEC,KAAK,EAAElB,YAAY,CAACgB,QAAQ,CAACwC,QAAQ;QACrCrC,KAAK,EAAEnB,YAAY,CAACgB,QAAQ,CAACwC,QAAQ;QACrCpC,GAAG,EAAEpB,YAAY,CAACgB,QAAQ,CAACyC;MAC7B,CAAC,CACF,CAAC;MACF5B,UAAU,CAAC7B,YAAY,CAAC4B,OAAO,CAAC;MAChC,IAAI,OAAO5B,YAAY,CAAC0D,WAAW,KAAK,QAAQ,EAAE;QAChDlC,OAAO,CAAC5D,WAAW,CAAC+F,iBAAiB,CAAC9F,YAAY,CAAC+F,cAAc,CAAC5D,YAAY,CAAC0D,WAAW,CAAC,CAAC,CAAC;MAC/F,CAAC,MAAM;QACL,MAAMG,GAAG,GAAG7D,YAAY,CAAC0D,WAAW,CAACI,UAAU,CAACC,cAAc,CAACC,QAAQ;QACvE,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,CAACN,GAAG,CAAC,CAACO,GAAG,CAACC,GAAG,IAAIA,GAAG,CAAC;QAEjD7C,OAAO,CAAC5D,WAAW,CAAC+F,iBAAiB,CAAC9F,YAAY,CAAC+F,cAAc,CAACC,GAAG,CAACI,QAAQ,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC;MACzF;MAEA,IAAItE,YAAY,CAACqB,IAAI,CAACkD,MAAM,EAAE;QAC5B,MAAMlD,IAAI,GAAG,EAAE;QACfrB,YAAY,CAACqB,IAAI,CAAC+C,GAAG,CAACI,GAAG,IAAI;UAC3BnD,IAAI,CAACoD,IAAI,CAAC;YAAEvD,KAAK,EAAEsD,GAAG;YAAErD,KAAK,EAAEpC,UAAU,CAACyF,GAAG;UAAE,CAAC,CAAC;QACnD,CAAC,CAAC;QACFlD,OAAO,CAACD,IAAI,CAAC;MACf;IACF;EACF,CAAC;;EAED;EACA,MAAMqD,mBAAmB,GAAGA,CAAA,KAAM;IAChCpD,OAAO,CAAC,EAAE,CAAC;IACXE,OAAO,CAAC,EAAE,CAAC;IACXS,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC;IACrBhB,WAAW,CAAC;MAAEC,KAAK,EAAE,QAAQ;MAAEC,KAAK,EAAE,eAAe;MAAEC,GAAG,EAAE7C;IAAK,CAAC,CAAC;IACnEoD,YAAY,CAAC,KAAK,CAAC;IACnB/B,YAAY,CAAC,KAAK,CAAC;IACnBiC,UAAU,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC;IACtBhC,QAAQ,CAACgB,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IACxBoB,WAAW,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMyC,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,SAAS,GAAGhH,WAAW,CAAC+F,iBAAiB,CAAC9F,YAAY,CAAC+F,cAAc,CAACrE,KAAK,CAACS,YAAY,CAAC0D,WAAW,CAAC,CAAC;IAE5GzB,QAAQ,CAAC,OAAO,EAAE1C,KAAK,CAACS,YAAY,CAACuC,KAAK,CAAC;IAC3Cf,OAAO,CAACoD,SAAS,CAAC;IAClBjD,YAAY,CAACpC,KAAK,CAACS,YAAY,CAACsD,WAAW,CAAC;IAC5C1D,YAAY,CAACL,KAAK,CAACS,YAAY,CAACuD,WAAW,CAAC;IAC5C9D,UAAU,CAACF,KAAK,CAACS,YAAY,CAAC6E,SAAS,CAAC;IACxChD,UAAU,CAACtC,KAAK,CAACS,YAAY,CAAC4B,OAAO,CAAC;IACtC,IAAIrC,KAAK,CAACS,YAAY,CAACgB,QAAQ,CAACwC,QAAQ,KAAKxC,QAAQ,CAACG,KAAK,EAAE;MAC3DF,WAAW,CAAC;QACVC,KAAK,EAAE3B,KAAK,CAACS,YAAY,CAACgB,QAAQ,CAACwC,QAAQ;QAC3CrC,KAAK,EAAE5B,KAAK,CAACS,YAAY,CAACgB,QAAQ,CAACwC,QAAQ;QAC3CpC,GAAG,EAAE7B,KAAK,CAACS,YAAY,CAACgB,QAAQ,CAACyC;MACnC,CAAC,CAAC;IACJ;IACA,IAAIlE,KAAK,CAACS,YAAY,CAACqB,IAAI,CAACkD,MAAM,EAAE;MAClC,MAAMlD,IAAI,GAAG,EAAE;MACf9B,KAAK,CAACS,YAAY,CAACqB,IAAI,CAAC+C,GAAG,CAACI,GAAG,IAAI;QACjCnD,IAAI,CAACoD,IAAI,CAAC;UAAEvD,KAAK,EAAEsD,GAAG;UAAErD,KAAK,EAAEpC,UAAU,CAACyF,GAAG;QAAE,CAAC,CAAC;MACnD,CAAC,CAAC;MACFlD,OAAO,CAACD,IAAI,CAAC;IACf;EACF,CAAC;;EAED;EACA,MAAMyD,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAIvF,KAAK,IAAI,CAAClB,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,EAAE;MAC5C,oBACElB,OAAA,CAAC7B,QAAQ;QAAAqC,QAAA,gBACPR,OAAA,CAACd,MAAM;UAACoF,KAAK,EAAC,SAAS;UAAClD,SAAS,EAAC,kCAAkC;UAAAZ,QAAA,EAAC;QAErE;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTxB,OAAA,CAACd,MAAM;UAACoF,KAAK,EAAC,WAAW;UAAC5C,OAAO,EAAEmE,iBAAkB;UAACxB,OAAO;UAAA7D,QAAA,EAAC;QAE9D;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAEf,CAAC,MAAM;MACL,oBACExB,OAAA,CAAC7B,QAAQ;QAAAqC,QAAA,gBACPR,OAAA,CAACd,MAAM;UAACoF,KAAK,EAAC,SAAS;UAAClD,SAAS,EAAC,oBAAoB;UAAAZ,QAAA,EAAC;QAEvD;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTxB,OAAA,CAACd,MAAM;UAACoF,KAAK,EAAC,WAAW;UAAC5C,OAAO,EAAEhB,iBAAkB;UAAC2D,OAAO;UAAA7D,QAAA,EAAC;QAE9D;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAEf;EACF,CAAC;EAED,MAAMyE,QAAQ,GAAGnC,IAAI,IAAI;IACvB,MAAMoC,UAAU,GAAG,EAAE;IAErB,MAAMC,WAAW,GAAG,CAAC5G,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,IAAIgB,QAAQ,CAACG,KAAK,KAAK5B,KAAK,CAACS,YAAY,CAACgB,QAAQ,CAACwC,QAAQ;IAE9G,IAAInC,IAAI,CAACkD,MAAM,EAAE;MACflD,IAAI,CAAC+C,GAAG,CAACI,GAAG,IAAIQ,UAAU,CAACP,IAAI,CAACD,GAAG,CAACtD,KAAK,CAAC,CAAC;IAC7C;IAEA,MAAMgE,WAAW,GAAG;MAClB1B,QAAQ,EAAExC,QAAQ,CAACG,KAAK;MACxBsC,MAAM,EAAEzC,QAAQ,CAACI;IACnB,CAAC;IACD,MAAM+D,KAAK,GAAG;MACZvD,OAAO;MACPW,KAAK,EAAEK,IAAI,CAACL,KAAK;MACjBlB,IAAI,EAAE2D,UAAU;MAChBtB,WAAW,EAAEnC,IAAI;MACjB+B,WAAW,EAAE5B,SAAS;MACtBmD,SAAS,EAAEnF,OAAO;MAClB6D,WAAW,EAAE5D,SAAS;MACtBqB,QAAQ,EAAEiE,WAAW,IAAIjE,QAAQ,CAACG,KAAK,KAAKiE,SAAS,GAAG7F,KAAK,CAACS,YAAY,CAACgB,QAAQ,GAAGkE;IACxF,CAAC;IAED,IAAItC,IAAI,CAACL,KAAK,CAACgC,MAAM,EAAE;MACrB,IAAIlG,UAAU,CAACgE,MAAM,CAAC,EAAE;QACtB,IAAIhE,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,IAAK,CAAC3B,UAAU,CAACkB,KAAK,CAACS,YAAY,CAAC,IAAI,CAACT,KAAK,CAACS,YAAY,CAACuC,KAAK,CAACgC,MAAO,EAAE;UAC3GzE,QAAQ,CAACiB,OAAO,CAACoE,KAAK,CAAC,CAAC;QAC1B,CAAC,MAAM;UACLrF,QAAQ,CAACe,UAAU,CAAC;YAAE,GAAGsE,KAAK;YAAElF,EAAE,EAAEV,KAAK,CAACS,YAAY,CAACC;UAAG,CAAC,CAAC,CAAC;QAC/D;QACAT,iBAAiB,CAAC,CAAC;MACrB;IACF,CAAC,MAAM;MACLwC,QAAQ,CAAC,OAAO,EAAE;QAChBqD,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC;EACD,oBACEvG,OAAA,CAAChB,KAAK;IACJwH,MAAM,EAAE1E,IAAK;IACb2E,MAAM,EAAE/F,iBAAkB;IAC1BU,SAAS,EAAC,YAAY;IACtBsF,gBAAgB,EAAC,KAAK;IACtBC,QAAQ,EAAEpC,mBAAoB;IAC9BqC,QAAQ,EAAEhB,mBAAoB;IAC9BiB,cAAc,EAAC,mCAAmC;IAAArG,QAAA,eAElDR,OAAA,CAACb,IAAI;MAACgC,EAAE,EAAC,iBAAiB;MAACC,SAAS,EAAC,YAAY;MAAC6E,QAAQ,EAAE5C,YAAY,CAAC4C,QAAQ,CAAE;MAAAzF,QAAA,gBACjFR,OAAA,CAACM,WAAW;QACVG,KAAK,EAAEA,KAAM;QACbG,OAAO,EAAEA,OAAQ;QACjBI,QAAQ,EAAEA,QAAS;QACnBH,SAAS,EAAEA,SAAU;QACrBE,UAAU,EAAEA,UAAW;QACvBJ,UAAU,EAAEA,UAAW;QACvBG,YAAY,EAAEA,YAAa;QAC3BJ,iBAAiB,EAAEA,iBAAkB;QAAAF,QAAA,EAEpC4D,kBAAkB,CAAC;MAAC;QAAA/C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACdxB,OAAA,CAACf,SAAS;QAACmC,SAAS,EAAC,0BAA0B;QAAAZ,QAAA,gBAC7CR,OAAA;UAAKoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,gBACnBR,OAAA,CAACX,KAAK;YAAC+B,SAAS,EAAC,YAAY;YAAC0F,GAAG,EAAC,YAAY;YAAAtG,QAAA,GAAC,QACvC,eAAAR,OAAA;cAAMoB,SAAS,EAAC,aAAa;cAAAZ,QAAA,EAAC;YAAC;cAAAa,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC,eACRxB,OAAA,CAACnB,UAAU;YACTkI,IAAI,EAAC,OAAO;YACZ9D,OAAO,EAAEA,OAAQ;YACjB+D,MAAM,EAAEC,KAAA;cAAA,IAAC;gBAAEC;cAAM,CAAC,GAAAD,KAAA;cAAA,oBAChBjH,OAAA,CAACZ,KAAK;gBACJ+B,EAAE,EAAC,YAAY;gBACfgG,WAAW,EAAC,OAAO;gBACnB/F,SAAS,EAAC,qBAAqB;gBAC/BgG,OAAO,EAAE7D,MAAM,CAACE,KAAK,IAAI,IAAK;gBAAA,GAC1ByD;cAAK;gBAAA7F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA;UACF;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EACD+B,MAAM,CAACE,KAAK,iBAAIzD,OAAA,CAACV,YAAY;YAAAkB,QAAA,EAAC;UAA+B;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAc,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1E,CAAC,eACNxB,OAAA;UAAKoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,gBACnBR,OAAA,CAACX,KAAK;YAAC+B,SAAS,EAAC,YAAY;YAAC0F,GAAG,EAAC,eAAe;YAAAtG,QAAA,EAAC;UAElD;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRxB,OAAA,CAACtB,MAAM;YACLyC,EAAE,EAAC,eAAe;YAClBC,SAAS,EAAC,cAAc;YACxBiG,eAAe,EAAC,QAAQ;YACxBC,WAAW,EAAE,KAAM;YACnBC,OAAO,EAAE7D,eAAgB;YACzB8D,KAAK,EAAEhI,iBAAkB;YACzB4C,KAAK,EAAEF,QAAS;YAChBuF,QAAQ,EAAE3D,IAAI,IAAI3B,WAAW,CAAC2B,IAAI,CAAE;YACpCnF,UAAU,EAAE;cAAEoF,MAAM,EAAEH;YAAkB;UAAE;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNxB,OAAA;UAAKoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,gBACnBR,OAAA,CAACX,KAAK;YAAC+B,SAAS,EAAC,YAAY;YAAC0F,GAAG,EAAC,UAAU;YAAAtG,QAAA,EAAC;UAE7C;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRxB,OAAA,CAAC3B,SAAS;YACR8C,EAAE,EAAC,UAAU;YACb4F,IAAI,EAAC,UAAU;YACf3F,SAAS,EAAC,cAAc;YACxBqG,QAAQ,EAAEC,IAAI,IAAI3E,UAAU,CAAC2E,IAAI,CAAC,CAAC,CAAC,CAAE;YACtCtF,KAAK,EAAEU,OAAQ;YACfyE,OAAO,EAAE;cAAEI,UAAU,EAAE;YAAQ;UAAE;YAAAtG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNxB,OAAA;UAAKoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,gBACnBR,OAAA,CAACX,KAAK;YAAC+B,SAAS,EAAC,YAAY;YAAC0F,GAAG,EAAC,WAAW;YAAAtG,QAAA,EAAC;UAE9C;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRxB,OAAA,CAACtB,MAAM;YACLkJ,OAAO;YACPzG,EAAE,EAAC,WAAW;YACdC,SAAS,EAAC,cAAc;YACxBiG,eAAe,EAAC,QAAQ;YACxBC,WAAW,EAAE,KAAM;YACnBC,OAAO,EAAE5D,UAAW;YACpB6D,KAAK,EAAEhI,iBAAkB;YACzB4C,KAAK,EAAEG,IAAK;YACZkF,QAAQ,EAAE3D,IAAI,IAAI;cAChBtB,OAAO,CAACsB,IAAI,KAAK,IAAI,GAAG,CAAC,GAAGA,IAAI,CAAC,GAAG,EAAE,CAAC;YACzC;UAAE;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNxB,OAAA;UAAKoB,SAAS,EAAC,MAAM;UAAAZ,QAAA,gBACnBR,OAAA,CAACX,KAAK;YAACyH,GAAG,EAAC,WAAW;YAAC1F,SAAS,EAAC,YAAY;YAAAZ,QAAA,EAAC;UAE9C;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRxB,OAAA,CAAC1B,MAAM;YACLuJ,WAAW,EAAEpF,IAAK;YAClBqF,gBAAgB,EAAC,gBAAgB;YACjCC,OAAO,EAAE;cACPR,OAAO,EAAE,CAAC,QAAQ,EAAE,WAAW,CAAC;cAChCS,MAAM,EAAE;gBACNC,UAAU,EAAE,KAAK;gBACjBV,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,WAAW;cACzC;YACF,CAAE;YACFW,mBAAmB,EAAEpE,IAAI,IAAIpB,OAAO,CAACoB,IAAI;UAAE;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNxB,OAAA;UAAAQ,QAAA,EAAMwF,mBAAmB,CAAC;QAAC;UAAA3E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEZ,CAAC;AAAAK,EAAA,CApUKD,WAAW;EAAA,QAoBXhD,OAAO;AAAA;AAAAuJ,GAAA,GApBPvG,WAAW;AAsUjB,eAAeA,WAAW;AAAA,IAAAD,EAAA,EAAAwG,GAAA;AAAAC,YAAA,CAAAzG,EAAA;AAAAyG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}