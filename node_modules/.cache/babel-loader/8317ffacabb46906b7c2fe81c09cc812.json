{"ast":null,"code":"// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\n// ** Axios Imports\nimport axios from 'axios';\nexport const getData = createAsyncThunk('permissions/getData', async params => {\n  const response = await axios.get('/apps/permissions/data', {\n    params\n  });\n  return {\n    total: response.data.total,\n    params: response.data.params,\n    allData: response.data.allData,\n    data: response.data.permissions\n  };\n});\nexport const addPermission = createAsyncThunk('permissions/addPermission', async (permission, _ref) => {\n  let {\n    dispatch,\n    getState\n  } = _ref;\n  await axios.post('/apps/permissions/add-permission', {\n    permission\n  });\n  await dispatch(getData(getState().permissions.params));\n  return permission;\n});\nexport const updatePermission = createAsyncThunk('permissions/updatePermission', async (_ref2, _ref3) => {\n  let {\n    id,\n    name\n  } = _ref2;\n  let {\n    dispatch,\n    getState\n  } = _ref3;\n  await axios.post('/apps/permissions/update-permission', {\n    id,\n    name\n  });\n  await dispatch(getData(getState().permissions.params));\n  return {\n    id,\n    name\n  };\n});\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, _ref4) => {\n  let {\n    dispatch,\n    getState\n  } = _ref4;\n  await axios.delete('/apps/permissions/delete', {\n    id\n  });\n  await dispatch(getData(getState().permissions.params));\n  return id;\n});\nexport const permissionsSlice = createSlice({\n  name: 'permissions',\n  initialState: {\n    data: [],\n    total: 1,\n    params: {},\n    allData: [],\n    selected: null\n  },\n  reducers: {\n    selectPermission: (state, action) => {\n      if (action.payload === null) {\n        state.selected = null;\n      } else {\n        state.selected = action.payload;\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getData.fulfilled, (state, action) => {\n      state.data = action.payload.data;\n      state.total = action.payload.total;\n      state.params = action.payload.params;\n      state.allData = action.payload.allData;\n    });\n  }\n});\nexport const {\n  selectPermission\n} = permissionsSlice.actions;\nexport default permissionsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","getData","params","response","get","total","data","allData","permissions","addPermission","permission","_ref","dispatch","getState","post","updatePermission","_ref2","_ref3","id","name","deletePermission","_ref4","delete","permissionsSlice","initialState","selected","reducers","selectPermission","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","reducer"],"sources":["C:/Users/Hai Hong/Desktop/EXAI/EXAI/src/views/apps/roles-permissions/store/index.js"],"sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getData = createAsyncThunk('permissions/getData', async params => {\r\n  const response = await axios.get('/apps/permissions/data', { params })\r\n  return {\r\n    total: response.data.total,\r\n    params: response.data.params,\r\n    allData: response.data.allData,\r\n    data: response.data.permissions\r\n  }\r\n})\r\n\r\nexport const addPermission = createAsyncThunk(\r\n  'permissions/addPermission',\r\n  async (permission, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/add-permission', { permission })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return permission\r\n  }\r\n)\r\n\r\nexport const updatePermission = createAsyncThunk(\r\n  'permissions/updatePermission',\r\n  async ({ id, name }, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/update-permission', { id, name })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return { id, name }\r\n  }\r\n)\r\n\r\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, { dispatch, getState }) => {\r\n  await axios.delete('/apps/permissions/delete', { id })\r\n  await dispatch(getData(getState().permissions.params))\r\n  return id\r\n})\r\n\r\nexport const permissionsSlice = createSlice({\r\n  name: 'permissions',\r\n  initialState: {\r\n    data: [],\r\n    total: 1,\r\n    params: {},\r\n    allData: [],\r\n    selected: null\r\n  },\r\n  reducers: {\r\n    selectPermission: (state, action) => {\r\n      if (action.payload === null) {\r\n        state.selected = null\r\n      } else {\r\n        state.selected = action.payload\r\n      }\r\n    }\r\n  },\r\n  extraReducers: builder => {\r\n    builder.addCase(getData.fulfilled, (state, action) => {\r\n      state.data = action.payload.data\r\n      state.total = action.payload.total\r\n      state.params = action.payload.params\r\n      state.allData = action.payload.allData\r\n    })\r\n  }\r\n})\r\n\r\nexport const { selectPermission } = permissionsSlice.actions\r\n\r\nexport default permissionsSlice.reducer\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}