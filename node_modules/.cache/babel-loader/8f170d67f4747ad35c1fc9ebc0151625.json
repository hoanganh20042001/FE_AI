{"ast":null,"code":"var _jsxFileName = \"E:\\\\EXAI\\\\EX-AI\\\\src\\\\@core\\\\components\\\\routes\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\n// ** React Imports\nimport { Navigate } from 'react-router-dom';\nimport { useContext, Suspense } from 'react';\n\n// ** Context Imports\nimport { AbilityContext } from '@src/utility/context/Can';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = _ref => {\n  _s();\n  let {\n    children,\n    route\n  } = _ref;\n  // ** Hooks & Vars\n  const ability = useContext(AbilityContext);\n  const user = JSON.parse(localStorage.getItem('userData'));\n  if (route) {\n    let action = null;\n    let resource = null;\n    let restrictedRoute = false;\n    if (route.meta) {\n      action = route.meta.action;\n      resource = route.meta.resource;\n      restrictedRoute = route.meta.restricted;\n    }\n    if (!user) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 14\n      }, this);\n    }\n    if (user && restrictedRoute) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 14\n      }, this);\n    }\n    if (user && restrictedRoute && user.role === 'client') {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/access-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 14\n      }, this);\n    }\n    if (user && !ability.can(action || 'read', resource)) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/misc/not-authorized\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 14\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: null,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n};\n_s(PrivateRoute, \"Mgx70MHFOjWkgzuKcjn1pYPEx8o=\");\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Navigate","useContext","Suspense","AbilityContext","jsxDEV","_jsxDEV","PrivateRoute","_ref","_s","children","route","ability","user","JSON","parse","localStorage","getItem","action","resource","restrictedRoute","meta","restricted","to","fileName","_jsxFileName","lineNumber","columnNumber","role","can","replace","fallback","_c","$RefreshReg$"],"sources":["E:/EXAI/EX-AI/src/@core/components/routes/PrivateRoute.js"],"sourcesContent":["// ** React Imports\r\nimport { Navigate } from 'react-router-dom'\r\nimport { useContext, Suspense } from 'react'\r\n\r\n// ** Context Imports\r\nimport { AbilityContext } from '@src/utility/context/Can'\r\n\r\nconst PrivateRoute = ({ children, route }) => {\r\n  // ** Hooks & Vars\r\n  const ability = useContext(AbilityContext)\r\n  const user = JSON.parse(localStorage.getItem('userData'))\r\n\r\n  if (route) {\r\n    let action = null\r\n    let resource = null\r\n    let restrictedRoute = false\r\n\r\n    if (route.meta) {\r\n      action = route.meta.action\r\n      resource = route.meta.resource\r\n      restrictedRoute = route.meta.restricted\r\n    }\r\n    if (!user) {\r\n      return <Navigate to='/login' />\r\n    }\r\n    if (user && restrictedRoute) {\r\n      return <Navigate to='/' />\r\n    }\r\n    if (user && restrictedRoute && user.role === 'client') {\r\n      return <Navigate to='/access-control' />\r\n    }\r\n    if (user && !ability.can(action || 'read', resource)) {\r\n      return <Navigate to='/misc/not-authorized' replace />\r\n    }\r\n  }\r\n\r\n  return <Suspense fallback={null}>{children}</Suspense>\r\n}\r\n\r\nexport default PrivateRoute\r\n"],"mappings":";;AAAA;AACA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;;AAE5C;AACA,SAASC,cAAc,QAAQ,0BAA0B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,YAAY,GAAGC,IAAA,IAAyB;EAAAC,EAAA;EAAA,IAAxB;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAAH,IAAA;EACvC;EACA,MAAMI,OAAO,GAAGV,UAAU,CAACE,cAAc,CAAC;EAC1C,MAAMS,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;EAEzD,IAAIN,KAAK,EAAE;IACT,IAAIO,MAAM,GAAG,IAAI;IACjB,IAAIC,QAAQ,GAAG,IAAI;IACnB,IAAIC,eAAe,GAAG,KAAK;IAE3B,IAAIT,KAAK,CAACU,IAAI,EAAE;MACdH,MAAM,GAAGP,KAAK,CAACU,IAAI,CAACH,MAAM;MAC1BC,QAAQ,GAAGR,KAAK,CAACU,IAAI,CAACF,QAAQ;MAC9BC,eAAe,GAAGT,KAAK,CAACU,IAAI,CAACC,UAAU;IACzC;IACA,IAAI,CAACT,IAAI,EAAE;MACT,oBAAOP,OAAA,CAACL,QAAQ;QAACsB,EAAE,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACjC;IACA,IAAId,IAAI,IAAIO,eAAe,EAAE;MAC3B,oBAAOd,OAAA,CAACL,QAAQ;QAACsB,EAAE,EAAC;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC5B;IACA,IAAId,IAAI,IAAIO,eAAe,IAAIP,IAAI,CAACe,IAAI,KAAK,QAAQ,EAAE;MACrD,oBAAOtB,OAAA,CAACL,QAAQ;QAACsB,EAAE,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC1C;IACA,IAAId,IAAI,IAAI,CAACD,OAAO,CAACiB,GAAG,CAACX,MAAM,IAAI,MAAM,EAAEC,QAAQ,CAAC,EAAE;MACpD,oBAAOb,OAAA,CAACL,QAAQ;QAACsB,EAAE,EAAC,sBAAsB;QAACO,OAAO;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACvD;EACF;EAEA,oBAAOrB,OAAA,CAACH,QAAQ;IAAC4B,QAAQ,EAAE,IAAK;IAAArB,QAAA,EAAEA;EAAQ;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAW,CAAC;AACxD,CAAC;AAAAlB,EAAA,CA9BKF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AAgClB,eAAeA,YAAY;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}