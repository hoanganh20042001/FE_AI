{"ast":null,"code":"// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\n// ** Axios Imports\nimport axios from 'axios';\nexport const getUserProfile = createAsyncThunk('appChat/getTasks', async () => {\n  const response = await axios.get('/apps/chat/users/profile-user');\n  return response.data;\n});\nexport const getChatContacts = createAsyncThunk('appChat/getChatContacts', async () => {\n  const response = await axios.get('/apps/chat/chats-and-contacts');\n  return response.data;\n});\nexport const selectChat = createAsyncThunk('appChat/selectChat', async (id, _ref) => {\n  let {\n    dispatch\n  } = _ref;\n  const response = await axios.get('/apps/chat/get-chat', {\n    id\n  });\n  await dispatch(getChatContacts());\n  return response.data;\n});\nexport const sendMsg = createAsyncThunk('appChat/sendMsg', async (obj, _ref2) => {\n  let {\n    dispatch\n  } = _ref2;\n  const response = await axios.post('/apps/chat/send-msg', {\n    obj\n  });\n  await dispatch(selectChat(obj.contact.id));\n  return response.data;\n});\nexport const appChatSlice = createSlice({\n  name: 'appChat',\n  initialState: {\n    chats: [],\n    contacts: [],\n    userProfile: {},\n    selectedUser: {}\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(getUserProfile.fulfilled, (state, action) => {\n      state.userProfile = action.payload;\n    }).addCase(getChatContacts.fulfilled, (state, action) => {\n      state.chats = action.payload.chatsContacts;\n      state.contacts = action.payload.contacts;\n    }).addCase(selectChat.fulfilled, (state, action) => {\n      state.selectedUser = action.payload;\n    });\n  }\n});\nexport default appChatSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","getUserProfile","response","get","data","getChatContacts","selectChat","id","_ref","dispatch","sendMsg","obj","_ref2","post","contact","appChatSlice","name","initialState","chats","contacts","userProfile","selectedUser","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","chatsContacts","reducer"],"sources":["C:/Users/Hai Hong/Desktop/EXAI/EXAI/src/views/apps/chat/store/index.js"],"sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getUserProfile = createAsyncThunk('appChat/getTasks', async () => {\r\n  const response = await axios.get('/apps/chat/users/profile-user')\r\n  return response.data\r\n})\r\n\r\nexport const getChatContacts = createAsyncThunk('appChat/getChatContacts', async () => {\r\n  const response = await axios.get('/apps/chat/chats-and-contacts')\r\n  return response.data\r\n})\r\n\r\nexport const selectChat = createAsyncThunk('appChat/selectChat', async (id, { dispatch }) => {\r\n  const response = await axios.get('/apps/chat/get-chat', { id })\r\n  await dispatch(getChatContacts())\r\n  return response.data\r\n})\r\n\r\nexport const sendMsg = createAsyncThunk('appChat/sendMsg', async (obj, { dispatch }) => {\r\n  const response = await axios.post('/apps/chat/send-msg', { obj })\r\n  await dispatch(selectChat(obj.contact.id))\r\n  return response.data\r\n})\r\n\r\nexport const appChatSlice = createSlice({\r\n  name: 'appChat',\r\n  initialState: {\r\n    chats: [],\r\n    contacts: [],\r\n    userProfile: {},\r\n    selectedUser: {}\r\n  },\r\n  reducers: {},\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(getUserProfile.fulfilled, (state, action) => {\r\n        state.userProfile = action.payload\r\n      })\r\n      .addCase(getChatContacts.fulfilled, (state, action) => {\r\n        state.chats = action.payload.chatsContacts\r\n        state.contacts = action.payload.contacts\r\n      })\r\n      .addCase(selectChat.fulfilled, (state, action) => {\r\n        state.selectedUser = action.payload\r\n      })\r\n  }\r\n})\r\n\r\nexport default appChatSlice.reducer\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;AACA,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,cAAc,GAAGF,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EAC7E,MAAMG,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,+BAA+B,CAAC;EACjE,OAAOD,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMC,eAAe,GAAGN,gBAAgB,CAAC,yBAAyB,EAAE,YAAY;EACrF,MAAMG,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,+BAA+B,CAAC;EACjE,OAAOD,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAME,UAAU,GAAGP,gBAAgB,CAAC,oBAAoB,EAAE,OAAOQ,EAAE,EAAAC,IAAA,KAAmB;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAD,IAAA;EACtF,MAAMN,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,qBAAqB,EAAE;IAAEI;EAAG,CAAC,CAAC;EAC/D,MAAME,QAAQ,CAACJ,eAAe,CAAC,CAAC,CAAC;EACjC,OAAOH,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMM,OAAO,GAAGX,gBAAgB,CAAC,iBAAiB,EAAE,OAAOY,GAAG,EAAAC,KAAA,KAAmB;EAAA,IAAjB;IAAEH;EAAS,CAAC,GAAAG,KAAA;EACjF,MAAMV,QAAQ,GAAG,MAAMF,KAAK,CAACa,IAAI,CAAC,qBAAqB,EAAE;IAAEF;EAAI,CAAC,CAAC;EACjE,MAAMF,QAAQ,CAACH,UAAU,CAACK,GAAG,CAACG,OAAO,CAACP,EAAE,CAAC,CAAC;EAC1C,OAAOL,QAAQ,CAACE,IAAI;AACtB,CAAC,CAAC;AAEF,OAAO,MAAMW,YAAY,GAAGjB,WAAW,CAAC;EACtCkB,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC,CAAC;IACfC,YAAY,EAAE,CAAC;EACjB,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAEC,OAAO,IAAI;IACxBA,OAAO,CACJC,OAAO,CAACxB,cAAc,CAACyB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACpDD,KAAK,CAACP,WAAW,GAAGQ,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC,CACDJ,OAAO,CAACpB,eAAe,CAACqB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACrDD,KAAK,CAACT,KAAK,GAAGU,MAAM,CAACC,OAAO,CAACC,aAAa;MAC1CH,KAAK,CAACR,QAAQ,GAAGS,MAAM,CAACC,OAAO,CAACV,QAAQ;IAC1C,CAAC,CAAC,CACDM,OAAO,CAACnB,UAAU,CAACoB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACN,YAAY,GAAGO,MAAM,CAACC,OAAO;IACrC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAed,YAAY,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}