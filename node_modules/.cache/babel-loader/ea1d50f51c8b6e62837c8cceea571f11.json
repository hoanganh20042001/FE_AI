{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SlideDown = void 0;\nvar tslib_1 = require(\"tslib\");\nvar react_1 = (0, tslib_1.__importStar)(require(\"react\"));\nvar SlideDownContent = function (_super) {\n  (0, tslib_1.__extends)(SlideDownContent, _super);\n  function SlideDownContent(props) {\n    var _this = _super.call(this, props) || this;\n    _this.outerRef = null;\n    _this.handleRef = function (ref) {\n      _this.outerRef = ref;\n      if (_this.props.forwardedRef) {\n        if (typeof _this.props.forwardedRef === 'function') {\n          _this.props.forwardedRef(ref);\n        } else if (typeof _this.props.forwardedRef === 'object') {\n          var forwardedRef = _this.props.forwardedRef;\n          forwardedRef.current = ref;\n        } else {\n          throw new Error(\"Invalid forwardedRef \".concat(_this.props.forwardedRef));\n        }\n      }\n    };\n    _this.handleTransitionEnd = function (evt) {\n      if (evt.target === _this.outerRef && evt.propertyName === 'height') {\n        if (_this.state.childrenLeaving) {\n          _this.setState({\n            children: null,\n            childrenLeaving: false\n          }, function () {\n            return _this.endTransition();\n          });\n        } else {\n          _this.endTransition();\n        }\n      }\n    };\n    _this.state = {\n      children: props.children,\n      childrenLeaving: false\n    };\n    return _this;\n  }\n  SlideDownContent.prototype.componentDidMount = function () {\n    if (this.outerRef) {\n      if (this.props.closed || !this.props.children) {\n        this.outerRef.classList.add('closed');\n        this.outerRef.style.height = '0px';\n      } else if (this.props.transitionOnAppear) {\n        this.startTransition('0px');\n      } else {\n        this.outerRef.style.height = 'auto';\n      }\n    }\n  };\n  SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n    return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n  };\n  SlideDownContent.getDerivedStateFromProps = function (props, state) {\n    if (props.children) {\n      return {\n        children: props.children,\n        childrenLeaving: false\n      };\n    } else if (state.children) {\n      return {\n        children: state.children,\n        childrenLeaving: true\n      };\n    } else {\n      return null;\n    }\n  };\n  SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n    if (this.outerRef) {\n      this.startTransition(snapshot);\n    }\n  };\n  SlideDownContent.prototype.startTransition = function (prevHeight) {\n    var endHeight = '0px';\n    if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n      this.outerRef.classList.remove('closed');\n      this.outerRef.style.height = 'auto';\n      endHeight = getComputedStyle(this.outerRef).height;\n    }\n    if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n      this.outerRef.classList.add('transitioning');\n      this.outerRef.style.height = prevHeight;\n      this.outerRef.offsetHeight;\n      this.outerRef.style.transitionProperty = 'height';\n      this.outerRef.style.height = endHeight;\n    }\n  };\n  SlideDownContent.prototype.endTransition = function () {\n    this.outerRef.classList.remove('transitioning');\n    this.outerRef.style.transitionProperty = 'none';\n    this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n    if (this.props.closed || !this.state.children) {\n      this.outerRef.classList.add('closed');\n    }\n  };\n  SlideDownContent.prototype.render = function () {\n    var _a = this.props,\n      _b = _a.as,\n      as = _b === void 0 ? 'div' : _b,\n      children = _a.children,\n      className = _a.className,\n      closed = _a.closed,\n      transitionOnAppear = _a.transitionOnAppear,\n      forwardedRef = _a.forwardedRef,\n      rest = (0, tslib_1.__rest)(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n    var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n    return react_1.default.createElement(as, (0, tslib_1.__assign)({\n      ref: this.handleRef,\n      className: containerClassName,\n      onTransitionEnd: this.handleTransitionEnd\n    }, rest), this.state.children);\n  };\n  SlideDownContent.defaultProps = {\n    transitionOnAppear: true,\n    closed: false\n  };\n  return SlideDownContent;\n}(react_1.Component);\nexports.SlideDown = (0, react_1.forwardRef)(function (props, ref) {\n  return react_1.default.createElement(SlideDownContent, (0, tslib_1.__assign)({}, props, {\n    forwardedRef: ref\n  }));\n});\nexports.default = exports.SlideDown;","map":{"version":3,"names":["react_1","tslib_1","__importStar","require","SlideDownContent","_super","__extends","props","_this","call","outerRef","handleRef","ref","forwardedRef","current","Error","concat","handleTransitionEnd","evt","target","propertyName","state","childrenLeaving","setState","children","endTransition","prototype","componentDidMount","closed","classList","add","style","height","transitionOnAppear","startTransition","getSnapshotBeforeUpdate","getBoundingClientRect","getDerivedStateFromProps","componentDidUpdate","_prevProps","_prevState","snapshot","prevHeight","endHeight","remove","getComputedStyle","parseFloat","toFixed","offsetHeight","transitionProperty","render","_a","_b","as","className","rest","__rest","containerClassName","default","createElement","__assign","onTransitionEnd","defaultProps","Component","exports","SlideDown","forwardRef"],"sources":["slidedown.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}